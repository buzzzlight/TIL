# Page Routing

### Routing

- 경로를 정해주는 행위 자체와 그런 과정들을 다 포함하여 일컫는 말
- 어떤 네트워크 안에서 통신 데이터를 보낼 때 최적의 경로를 선택하는 과정
- 최적의 경로는 주어진 데이터를 가장 짧은 거리로 또는 가장 적은 시간 안에 전송할 수 있는 경로다. 라우팅은 전화 통신망, 전자 정보 통신망, 그리고 교통망 등 여러 종류의 네트워크에서 사용된다

### Router

- 데이터의 경로를 실시간으로 지정해주는 역할을 하는 무언가
- 컴퓨터 네트워크 간에 데이터 패킷을 전송하는 네트워크 장치
- 패킷의 위치를 추출하여, 그 위치에 대한 **최적의 경로를 지정**하며, 이 경로를 따라 데이터 패킷을 다음 장치로 전달한다

```
인터넷을 사용해서 웹사이트에 접속한다는 것 => 브라우저를 통해 웹서버에게 경로 요청을 보내고 웹문서를 받아보는 과정
```

### Page Routing

- 웹서버가 요청에 명시되어 있는 경로에 따라 알맞은 페이지를 선택하고 그 페이지를 반환해서 사용자가 그 페이지에 접속하는 과정



### MPA (Multipage Application)

- 여러 개의 페이지를 준비해놨다가 요청에 들어오면 경로에 따라 적절한 페이지를 보내주는 방식
- 웹 사이트를 개발할 때 전통적으로는 위의 페이지 이동 방식처럼 각각의 페이지 이동할때마다 페이지를 요청하는 방식을 사용했음
- 페이지가 이동하게 될 때마다 새로운 페이지를 웹 서버에게 요청하고 응답을 받으면 브라우저가 새로고침 되듯이 깜빡이면서 페이지 이동이 이루어짐

### SPA (Single Page Application)

- 단일 페이지 어플리케이션
- 모바일 앱처럼 페이지 이동이 빠르고 쾌적함
- React로 만든 웹사이트를 요청하게 되면 SPA이기 때문에 어떤 요청을 하든 `index.html`을 우선 보내주고 그 다음 React App을 통째로 전달함
- 만약 Post라는 페이지로 이동하고 싶어서 어떤 버튼을 클릭할 경우, 서버에 Post 페이지를 달라고 요청하는 것이 아니라 React App이 알아서 페이지를 업데이트 시킴
- 원래 페이지 이동은 서버와 통신을 해 이루어져야 하는데 브라우저가 알아서 처리해버리면 됨 => 서버 대기 시간 필요 없고 그냥 페이지가 바로 업데이트 됨
- 컴포넌트가 변경되듯 빠른 속도로 페이지가 변경됨 페이지 전환이 굉장히 빨라짐
- 접속할 때마다 보이는 정보들이 달라지는 웹사이트일 경우 => 서버와 **데이터만** 요청하고 전달받음

### MPA vs SPA

- MPA 방식은 html문서부터 데이터까지 다 한꺼번에 조립해서 받아야 해서 오래걸림

- SPA 방식은 일단 웹페이지를 먼저 바꾸고 지금 데이터가 없다면 로딩을 잠깐 띄워놓고 데이터가 들어오면 그 때 데이터를 보여줌 => 매우 빠른 페이지 이동

### CSR(Client Side Rendering)

- SPA에서 브라우저, 즉 **클라이언트 측에서 알아서 페이지를 렌더링** 하는 방식



> #### **React는 SPA방식을 따르면서 CSR으로 페이지를 렌더링한다.**



### React Page Routing

```js
function App() {
  return (
    // 페이지 라우팅
    <BrowserRouter>
      <div className="App">
        <h2>App.js</h2>
        <Routes>
          <Route path="/" element={<Home />} />
          <Route path="/new" element={<New />} />
          <Route path="/edit" element={<Edit />} />
          <Route path="/diary" element={<Diary />} />
        </Routes>
      </div>
    </BrowserRouter>
  );
}
```

- 리액트에서는 a태그로 페이지 이동을 하지 않는다 (SPA이기 때문에)

- 외부페이지로 이동시킬때만 a태그를 씀

- CSR 방식으로 리액트라우터를 이용해 굉장히 빠른 페이지 이동 구현

- 실제로 페이지를 이동시키는거라기 보다는 페이지 역할을 하는 컴포넌트를 갈아끼우고 url도 바꿔서 마치 페이지가 이동한것처럼 보이게 만드는것 ..

- 리액트앱이 제공하는 html은 index.html 하나밖에 없지만 앱컴포넌트와 앱컴포넌트 안에 있는 라우터들을 통해서 url의 경로별로 렌더링되는 컴포넌트들을 계속해서 변경해줘서 마치 페이지가 이동된것처럼 보이게 만들어주는 방식

- 리액트는 이런식으로 페이지를 교체해주기때문에 페이지 전환시 깜빡임이 없고 이동속도가 매우 빨라서 쾌적하게 페이지 이동이 가능함( CSR) 
