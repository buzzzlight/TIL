{% extends 'base.html' %}

{% block css %}
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
{% endblock css %}

{% block content %}
  <div class="container">
    <div class="pt-4">
        <table class="table table-hover">
        <thead>
            <tr>
            <th scope="col">번호</th>
            <th scope="col">제목</th>
            <th scope="col">영화</th>
            <th scope="col">평점</th>
            <th scope="col">작성일</th>
            <th scope="col">작성자</th>
            </tr>
        </thead>
        <tbody>
            {% for article in articles %}
            <tr>
                {% comment %} <th scope="row" class="align-middle col-md-1">{{ article.pk }}</td> {% endcomment %}
                <th scope="row" class="align-middle col-md-1">{{ forloop.revcounter }}</td>
                <td class="align-middle col-md-4">
                <a href="{% url 'articles:detail' article.pk %}" class="text-decoration-none">{{ article.title }}</a>
                </td>
                <td class="align-middle col-md-1">{{ article.movie_name }}</td>
                <td class="align-middle col-md-1">
                <div class="d-flex align-items-center">
                    {% if article.grade == 0 %}
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 0.5 %}
                    <div class="text-warning bi-star-half"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 1.0 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 1.5 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-half"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 2.0 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 2.5 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-half"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 3.0 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 3.5 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-half"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 4.0 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star"></div>
                    {% elif article.grade == 4.5 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-half"></div>
                    {% elif article.grade == 5.0 %}
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    <div class="text-warning bi-star-fill"></div>
                    {% endif %}
                </div>
                </td>
                <td class="align-middle col-md-1">{{ article.created_at|date:'m.d' }}</td>
                <!-- <td class="align-middle">{{ article.updated_at|date:'Y-m-d a h:i' }}</td> -->
                <td class="align-middle col-md-1">{{ article.user }}</a></td>
            </tr>
            {% endfor %}
        </tbody>
        </table>
    </div>
    <div class="d-flex justify-content-end">
      <a href="{% url 'articles:create' %}">
        <button type="button" class="btn btn-outline-primary">글쓰기</button>
      </a>
    </div>
  </div>
{% endblock content %}